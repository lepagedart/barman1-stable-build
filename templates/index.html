<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Raise the Bar Consulting — Barman-1</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .container { max-width: 800px; margin: auto; }
        .response { background-color: #f3f3f3; padding: 20px; margin-top: 20px; border-radius: 8px; }
        .conversation { margin-top: 40px; }
        .user, .assistant { margin-bottom: 15px; }
        .user { font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Raise the Bar Consulting — Barman-1</h1>

        <form method="POST">
            <label for="venue_concept">Venue Concept:</label><br>
            <input type="text" id="venue_concept" name="venue_concept" style="width:100%;"><br><br>

            <label for="user_prompt">Ask the Bar Manager:</label><br>
            <textarea id="user_prompt" name="user_prompt" rows="5" style="width:100%;"></textarea><br><br>

            <button type="submit">Ask the AI</button>
        </form>

        <form method="POST" action="/reset" style="display:inline;">
            <button type="submit">Reset Conversation</button>
        </form>

        {% if ai_response %}
            <div class="response">
                {{ ai_response | safe }}
            </div>
        {% endif %}

        <div class="conversation">
            <h2>Conversation History:</h2>
            {% for msg in conversation %}
                <div class="{{ msg.role }}">
                    <strong>{{ msg.role.capitalize() }}:</strong> {{ msg.content }}
                </div>
            {% endfor %}
        </div>
    </div>
</body>
</html>